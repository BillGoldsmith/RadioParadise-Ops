<div class="flex flex-col flex-auto min-w-0">

    <!-- Header -->
    <div class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between p-6 sm:py-8 sm:px-10 border-b bg-card dark:bg-transparent">
        <div class="flex-1 min-w-0">
            <!-- Breadcrumbs -->
            <div class="flex flex-wrap items-center font-medium">
                <div>
                    <a class="whitespace-nowrap text-primary-500">Documentation</a>
                </div>
                <div class="flex items-center ml-1 whitespace-nowrap">
                    <mat-icon
                        class="icon-size-5 text-secondary"
                        [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
                    <a class="ml-1 text-primary-500">Fuse Components</a>
                </div>
                <div class="flex items-center ml-1 whitespace-nowrap">
                    <mat-icon
                        class="icon-size-5 text-secondary"
                        [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
                    <span class="ml-1 text-secondary">Services</span>
                </div>
            </div>
            <!-- Title -->
            <div class="mt-2">
                <h2 class="text-3xl md:text-4xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate">
                    Confirmation
                </h2>
            </div>
        </div>
        <button
            class="-ml-3 sm:ml-0 mb-2 sm:mb-0 order-first sm:order-last"
            mat-icon-button
            (click)="toggleDrawer()">
            <mat-icon [svgIcon]="'heroicons_outline:menu'"></mat-icon>
        </button>
    </div>

    <div class="flex-auto max-w-3xl p-6 sm:p-10 prose prose-sm">

        <p>
            <strong>FuseConfirmationService</strong> is a singleton service for creating confirmation and information dialogs. Internally it uses MatDialog to create and
            show the dialog.
        </p>

        <h2>Module</h2>
        <textarea
            fuse-highlight
            lang="typescript">
            import { FuseConfirmationModule } from '@fuse/services/confirmation';
        </textarea>

        <h2>Confirmation Config</h2>
        <p>
            Here is the interface for the <em>Confirmation configuration</em>:
        </p>
        <!-- @formatter:off -->
        <textarea fuse-highlight
                  lang="typescript">
            export interface FuseConfirmationConfig
            {
                title?: string;
                message?: string;
                icon?: {
                    show?: boolean;
                    name?: string;
                    color?:
                        | 'primary'
                        | 'accent'
                        | 'warn'
                        | 'basic'
                        | 'info'
                        | 'success'
                        | 'warning'
                        | 'error';
                };
                actions?: {
                    confirm?: {
                        show?: boolean;
                        label?: string;
                        color?:
                            | 'primary'
                            | 'accent'
                            | 'warn';
                    };
                    cancel?: {
                        show?: boolean;
                        label?: string;
                    };
                };
                dismissible?: boolean;
            }
        </textarea>
        <!-- @formatter:on -->
        <div class="bg-card py-3 px-6 mt-2 rounded shadow">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>title</div>
                        </td>
                        <td>
                            Title of the confirmation dialog.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>message</div>
                        </td>
                        <td>
                            Message of the confirmation dialog.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>icon.show</div>
                        </td>
                        <td>
                            Whether to show the icon.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>icon.name</div>
                        </td>
                        <td>
                            Name of the icon.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>icon.color</div>
                        </td>
                        <td>
                            Color of the icon.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>actions.confirm.show</div>
                        </td>
                        <td>
                            Whether to show the confirmation button.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>actions.confirm.label</div>
                        </td>
                        <td>
                            Label of the confirmation button.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>actions.confirm.color</div>
                        </td>
                        <td>
                            Color of the confirmation button.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>actions.cancel.show</div>
                        </td>
                        <td>
                            Whether to show the cancel button.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>actions.confirm.label</div>
                        </td>
                        <td>
                            Label of the cancel button.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div>dismissible</div>
                        </td>
                        <td>
                            Sets the dismissible status of the confirmation dialog.<br>
                            If <code>false</code>, confirmation dialog cannot be closed by clicking on backdrop or pressing Escape key.
                            The close button on the top right corner also won't show up.
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h2>Methods</h2>
        <div class="bg-card rounded shadow mt-4">
            <div class="px-6 py-3 font-mono text-secondary border-b">
                open(config: FuseConfirmationConfig): MatDialogRef&lt;FuseConfirmationDialogComponent&gt;
            </div>
            <div class="p-6">
                Opens the confirmation dialog with the given configuration
            </div>
        </div>

        <h2>MatDialogRef</h2>
        <p>
            Since <code>FuseConfirmationService</code> uses <em>MatDialog</em> behind the scenes, it returns
            a reference to the created dialog. Using that reference, you can access to the user input:
        </p>
        <!-- @formatter:off -->
        <textarea
            fuse-highlight
            [lang]="'ts'">
            // Open the confirmation and save the reference
            const dialogRef = this._fuseConfirmationService.open({...});

            // Subscribe to afterClosed from the dialog reference
            dialogRef.afterClosed().subscribe((result) => {
                console.log(result);
            });
        </textarea>
        <!-- @formatter:on -->
        <div class="bg-card py-3 px-6 mt-2 rounded shadow">
            <table>
                <thead>
                    <tr>
                        <th>Result</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div><code>'confirmed'</code></div>
                        </td>
                        <td>
                            This is the result if the user pressed the Confirm button.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div><code>'cancelled'</code></div>
                        </td>
                        <td>
                            This is the result if the user pressed the Cancel button.
                        </td>
                    </tr>
                    <tr>
                        <td class="font-mono text-md text-secondary">
                            <div><code>undefined</code></div>
                        </td>
                        <td>
                            This is the result if the confirmation dismissed either using the close button,
                            clicking on the backdrop or pressing the Escape key.
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h2>Example</h2>
        <p>
            Below you can configure the dialog and preview it. You can use the generated configuration object within your code
            to have the exact same dialog.
        </p>
        <div class="example-viewer">

            <div class="title">
                <h6>Configure the dialog and preview it</h6>
            </div>

            <div class="flex flex-col p-8 pt-0">

                <form
                    [formGroup]="configForm"
                    class="flex flex-col items-start">

                    <!-- Title -->
                    <mat-form-field class="fuse-mat-no-subscript w-full">
                        <mat-label>Title</mat-label>
                        <input
                            matInput
                            [formControlName]="'title'">
                    </mat-form-field>

                    <!-- Message -->
                    <mat-form-field class="fuse-mat-no-subscript fuse-mat-textarea w-full mt-6">
                        <mat-label>Message</mat-label>
                        <textarea
                            matInput
                            [formControlName]="'message'">
                        </textarea>
                    </mat-form-field>

                    <!-- Divider -->
                    <div class="w-full mt-8 mb-7 border-b"></div>

                    <!-- Icon -->
                    <div
                        class="flex flex-col w-full"
                        [formGroupName]="'icon'">
                        <mat-slide-toggle
                            [color]="'primary'"
                            [formControlName]="'show'">
                            Show Icon
                        </mat-slide-toggle>
                        <div class="flex items-center w-full mt-6">
                            <!-- Icon name -->
                            <mat-form-field class="fuse-mat-no-subscript w-1/2 pr-2">
                                <mat-label>Icon name</mat-label>
                                <input
                                    matInput
                                    [formControlName]="'name'">
                            </mat-form-field>

                            <!-- Icon color -->
                            <mat-form-field class="fuse-mat-no-subscript w-1/2 pl-2">
                                <mat-label>Icon color</mat-label>
                                <mat-select [formControlName]="'color'">
                                    <ng-container *ngFor="let color of ['primary', 'accent', 'warn', 'basic', 'info', 'success', 'warning', 'error']">
                                        <mat-option [value]="color">{{color | titlecase}}</mat-option>
                                    </ng-container>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>

                    <!-- Divider -->
                    <div class="w-full mt-8 mb-7 border-b"></div>

                    <!-- Actions -->
                    <div
                        class="w-full"
                        [formGroupName]="'actions'">
                        <!-- Confirm -->
                        <div
                            class="flex flex-col w-full"
                            [formGroupName]="'confirm'">
                            <mat-slide-toggle
                                class="mt-2"
                                [color]="'primary'"
                                [formControlName]="'show'">
                                Show Confirm button
                            </mat-slide-toggle>
                            <div class="flex items-center w-full mt-4">
                                <!-- Confirm label -->
                                <mat-form-field class="fuse-mat-no-subscript w-1/2 pr-2">
                                    <mat-label>Confirm button label</mat-label>
                                    <input
                                        matInput
                                        [formControlName]="'label'">
                                </mat-form-field>

                                <!-- Confirm color -->
                                <mat-form-field class="fuse-mat-no-subscript w-1/2 pl-2">
                                    <mat-label>Confirm button color</mat-label>
                                    <mat-select [formControlName]="'color'">
                                        <ng-container *ngFor="let color of ['primary', 'accent', 'warn']">
                                            <mat-option [value]="color">{{color | titlecase}}</mat-option>
                                        </ng-container>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>

                        <!-- Cancel -->
                        <div
                            class="flex flex-col w-full mt-6"
                            [formGroupName]="'cancel'">
                            <mat-slide-toggle
                                class="mt-2"
                                [color]="'primary'"
                                [formControlName]="'show'">
                                Show Cancel button
                            </mat-slide-toggle>
                            <div class="flex items-center w-full mt-4">
                                <!-- Cancel label -->
                                <mat-form-field class="fuse-mat-no-subscript w-1/2 pr-2">
                                    <mat-label>Cancel button label</mat-label>
                                    <input
                                        matInput
                                        [formControlName]="'label'">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>

                    <!-- Divider -->
                    <div class="w-full mt-8 mb-7 border-b"></div>

                    <!-- Dismissible -->
                    <mat-slide-toggle
                        [color]="'primary'"
                        [formControlName]="'dismissible'">
                        Dismissible
                    </mat-slide-toggle>
                </form>

                <div class="mt-12">
                    <button
                        mat-flat-button
                        [color]="'primary'"
                        (click)="openConfirmationDialog()">
                        Open Confirmation Dialog
                    </button>
                </div>
            </div>
        </div>

        <!-- Config as json -->
        <textarea
            fuse-highlight
            [code]="configForm.value | json"
            [lang]="'json'"></textarea>
    </div>

</div>
